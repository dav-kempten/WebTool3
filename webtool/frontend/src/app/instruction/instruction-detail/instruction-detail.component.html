<h1>Instruction #{{instructionId$ | async}}</h1>

<form [formGroup]="instructionForm">

  <!--GuideComponent // TeamComponent // Abrechnung-->
  <div class="p-grid">
    <div class="p-col-12 p-sm-6 p-md-6 p-lg-6">
      <avk-guide
          formControlName="guide"
          id="g1"
          label="Trainer"
          [nameIdList]="team.value"
          required
      ></avk-guide>
    </div>
    <div class="p-col-12 p-sm-3 p-md-3 p-lg-3">
      <input formControlName="costs" id="costs" placeholder="Kosten" type="text" style='width:100%' pInputText>
    </div>
    <div class="p-col-12 p-sm-3 p-md-3 p-lg-3">
      <input formControlName="revenue" id="revenue" placeholder="Einnahmen" type="text" style='width:100%' pInputText>
    </div>
  </div>

  <div class="p-grid">
    <div class="p-sm-12 p-md-12 p-lg-12">
      <avk-team
          formControlName="team"
          id="g2"
          label="Team"
          [nameId]="guide.value"
      ></avk-team>
    </div>
  </div>

  <!--Buchungscode, Status, Kurskonzept, InfoBox-->
  <div class="p-grid">
    <div class="p-col-12 p-sm-3 p-md-3 p-lg-3">
      <input formControlName="bookingnr" id="bookingnr" placeholder="Buchungsnummer" type="text" style='width:100%' pInputText>
    </div>
    <div class="p-col-12 p-sm-3 p-md-3 p-lg-3">
      <avk-dropdown formControlName="status" id="status"></avk-dropdown>
    </div>
    <div class="p-col-12 p-sm-6 p-md-6 p-lg-6">
      <input formControlName="concept" id="concept" placeholder="Kurskonzept" type="text" style='width:100%' pInputText>
    </div>
  </div>

  <!--Kurztitel, Langtitel-->
  <div class="p-grid">
    <div class="p-col-12 p-sm-3 p-md-3 p-lg-3">
      <input formControlName="shorttitle" id="shorttitle" placeholder="Kurztitel" type="text" style='width:100%' pInputText>
    </div>
    <div class="p-col-12 p-sm-9 p-md-9 p-lg-9">
      <input formControlName="longtitle" id="longtitle" placeholder="Langtitel" type="text" style='width:100%' pInputText>
    </div>
  </div>

  <!--Beschreibung-->
  <div class="p-grid">
    <div class="p-col-12 p-sm-12 p-md-12 p-lg-12">
      <textarea
          formControlName="description"
          [rows]="5"
          pInputTextarea
          placeholder="Beschreibung"
          autoResize="autoResize"
          style='width:100%'
      ></textarea>
    </div>
  </div>

  <!--Zusatzausr端stung, Besondere Vorausssetzungen-->
  <div class="p-grid">
    <div class="p-col-12 p-sm-6 p-md-6 p-lg-6">
      <avk-multiselect
          formControlName="equipment"
          choice="equipment"
          label="Ausr端stung"
      ></avk-multiselect>
    </div>
    <div class="p-col-12 p-sm-6 p-md-6 p-lg-6">
      <avk-multiselect
          formControlName="requirement"
          choice="requirement"
          label="Vorraussetzungen"
      ></avk-multiselect>
    </div>
  </div>

  <!--Teilnehmeranzahl, Strecke, Materialservice-->
  <div class="p-grid">
    <div class="p-col-12 p-sm-3 p-md-3 p-lg-3">
      <avk-membernumber
          formControlName="numbermembermin"
          label="MinMember"
          id="m1"
          [maxMember]="numbermembermax.value"
      ></avk-membernumber>
    </div>
    <div class="p-col-12 p-sm-3 p-md-3 p-lg-3">
      <avk-membernumber
          formControlName="numbermembermax"
          label="MaxMember"
          id="m2"
          [minMember]="numbermembermin.value"
      ></avk-membernumber>
    </div>
    <div class="p-col-12 p-sm-3 p-md-3 p-lg-3">
      <input formControlName="distance" id="distance" placeholder="PKW Strecke" type="text" style='width:100%' pInputText>
    </div>
    <div class="p-col-12 p-sm-3 p-md-3 p-lg-3">
      <p-checkbox [formControl]="instructionForm.controls['service']" label="Materialservice" ></p-checkbox>
    </div>
  </div>

  <!--Liste mit Parametern (Tabelle)-->
  <p-table [value]="tours">
    <ng-template pTemplate="header">
      <tr>
        <th>Type</th>
        <th>SDate</th>
        <th>STime</th>
        <th>EDate</th>
        <th>ETime</th>
        <th>ShortTitle</th>
        <th>LongTitle</th>
        <th>Location</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-tour>
      <tr>
        <td>{{tour.type}}</td>
        <td>{{tour.sdate}}</td>
        <td>{{tour.stime}}</td>
        <td>{{tour.edate}}</td>
        <td>{{tour.etime}}</td>
        <td>{{tour.shorttitle}}</td>
        <td>{{tour.longtitle}}</td>
        <td>{{tour.location}}</td>
      </tr>
    </ng-template>
  </p-table>

  <!--Fahrtkosten, Zusatzkosten, Anzahlung-->
  <div class="p-grid">
    <div class="p-col-12 p-sm-6 p-md-6 p-lg-6">
      <div class="ui-inputgroup" style='width:100%'>
        <button pButton type="button" label="Add" (click)="getTourCosts()"></button>
        <input formControlName="costsname" id="coststname" placeholder="Name Kostenpunkt" type="text" style='width:100%' pInputText>
        <input formControlName="tourcosts" id="tourcosts" placeholder="Betrag (z.B. 12,79)" type="text"  pInputText>
      </div>
    </div>
    <div class="p-col-12 p-sm-3 p-md-3 p-lg-3">
      <input formControlName="extracosts" id="extracosts" placeholder="Zusatzkosten" type="text" style='width:100%' pInputText>
    </div>
    <div class="p-col-12 p-sm-3 p-md-3 p-lg-3">
      <input formControlName="deposit" id="deposit" placeholder="Anzahlung" type="text" style='width:100%' pInputText>
    </div>
  </div>

  <!--Kostenrahmen mit Tabelle-->
  <p-table [value]="totalcosts" [resizableColumns]="true">
    <ng-template pTemplate="header">
      <tr>
        <th>Pos</th>
        <th>Beschreibung</th>
        <th>Betrag</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-costs>
      <tr>
        <td>{{costs.pos}}</td>
        <td>{{costs.beschreibung}}</td>
        <td>{{costs.betrag}}</td>
      </tr>
    </ng-template>
  </p-table>

  <!--Teilnehmergeb端hr-->
  <div class="p-grid">
    <div class="p-col-12 p-sm-3 p-md-3 p-lg-3">
      <input formControlName="memberfee" id="memberfee" placeholder="Teilnehmergeb端hr" type="text" style='width:100%' pInputText>
    </div>
  </div>

  <!--Bemerkung-->
  <div class="p-grid">
    <div class="p-col-12 p-sm-12 p-md-12 p-lg-12">
      <textarea
          formControlName="notes"
          [rows]="3"
          pInputTextarea
          placeholder="Bemerkungen"
          autoResize="autoResize"
          style='width:100%'
      ></textarea>
    </div>
  </div>

</form>
